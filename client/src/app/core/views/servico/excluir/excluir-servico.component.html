<div class="dashboard-container">
  <mat-card class="no-card-appearence delete-card">
    <mat-card-header>
      <div class="warning-header">
        <mat-icon class="warning-icon">warning</mat-icon>
        <div>
          <mat-card-title>Confirmar Exclusão</mat-card-title>
          <mat-card-subtitle>Esta ação não pode ser desfeita</mat-card-subtitle>
        </div>
      </div>
    </mat-card-header>

    <mat-card-content>

      <!-- Alerta inicial -->
      <div class="alert-box">
        <mat-icon>info</mat-icon>
        <div>
          <p><strong>Você está prestes a excluir o serviço:</strong></p>
          <p class="funcionario-nome">{{ servico.titulo }}</p>
        </div>
      </div>

      <!-- Detalhes do Serviço -->
      <div class="section">
        <h3 class="section-title">Dados que serão excluídos</h3>
        <div class="info-grid">

          <div class="info-item">
            <label>Título</label>
            <span>{{ servico.titulo }}</span>
          </div>

          <div class="info-item">
            <label>Valor Original</label>
            <span>R$ {{ servico.valor | number:'1.2-2' }}</span>
          </div>

          <div class="info-item" *ngIf="servico.isPromocao">
            <label>Valor Promocional</label>
            <span>R$ {{ servico.valorFinal | number:'1.2-2' }}</span>
          </div>

          <div class="info-item">
            <label>Duração</label>
            <span>{{ servico.duracao }} min</span>
          </div>

          <div class="info-item">
            <label>Em Promoção?</label>
            <span>{{ servico.isPromocao ? 'Sim' : 'Não' }}</span>
          </div>

          <div class="info-item" *ngIf="servico.isPromocao">
            <label>Desconto (%)</label>
            <span>{{ servico.porcentagemPromocao }}%</span>
          </div>

          <div class="info-item">
            <label>Ativo</label>
            <span>{{ servico.ativo ? 'Sim' : 'Não' }}</span>
          </div>

        </div>
      </div>

      <mat-divider></mat-divider>

      <!-- Aviso sobre consequências -->
      <div class="warning-box">
        <mat-icon>error_outline</mat-icon>
        <div>
          <p><strong>Atenção:</strong> A exclusão deste serviço pode afetar:</p>
          <ul>
            <li>Agendamentos vinculados ao serviço</li>
            <li>Histórico de registros e relatórios</li>
            <li>Disponibilidade da agenda dos funcionários</li>
          </ul>
        </div>
      </div>

      <!-- Confirmação do usuário -->
      <div class="confirmation-section">
        <mat-checkbox [(ngModel)]="confirmacaoExclusao" color="warn">
          Eu confirmo que desejo excluir permanentemente este serviço e todos os dados relacionados
        </mat-checkbox>
      </div>

      <!-- Ações -->
      <div class="form-actions delete-actions">
        <button mat-button routerLink="/servicos/listar">
          <mat-icon>arrow_back</mat-icon>
          Cancelar
        </button>

        <button
          mat-raised-button
          color="warn"
          [disabled]="!confirmacaoExclusao"
          (click)="excluir()">
          <mat-icon>delete_forever</mat-icon>
          Confirmar Exclusão
        </button>
      </div>

    </mat-card-content>
  </mat-card>
</div>
