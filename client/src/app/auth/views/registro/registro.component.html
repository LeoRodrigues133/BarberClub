<div class="dashboard-container">
  <mat-card class="no-card-appearence">

    <mat-card-header>
      <mat-card-title class="text-primary fw-bold fs-3">Cadastrar Empresa</mat-card-title>
      <mat-card-subtitle class="text-secondary">Informe os dados da sua empresa</mat-card-subtitle>
    </mat-card-header>

    <mat-card-content class="d-flex justify-content-around mt-5">

      <form [formGroup]="form" (ngSubmit)="registrar()">

        <!-- Linha 1 – Login da Empresa -->
        <div class="form-row">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Login da Empresa</mat-label>
            <input matInput formControlName="userName" placeholder="Ex: Barberclublogin" />
            <mat-icon matPrefix class="icon-destaque">store</mat-icon>

            <mat-error *ngIf="userName?.hasError('required')">
              Login da empresa é obrigatório
            </mat-error>
            <mat-error *ngIf="userName?.hasError('minlength')">
              Deve ter no mínimo 3 caracteres
            </mat-error>
            <mat-error *ngIf="userName?.hasError('maxlength')">
              Deve ter no máximo 50 caracteres
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Linha 2 – Nome de Apresentação -->
        <div class="form-row">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Nome de Apresentação</mat-label>
            <input matInput formControlName="nomeApresentacao" placeholder="Ex: Leonardo Rodrigues / Leo" />
            <mat-icon matPrefix class="icon-destaque">people</mat-icon>

            <mat-error *ngIf="nomeApresentacao?.hasError('required')">
              Nome de Apresentação é obrigatório
            </mat-error>
            <mat-error *ngIf="nomeApresentacao?.hasError('minlength')">
              Deve ter no mínimo 3 caracteres
            </mat-error>
            <mat-error *ngIf="nomeApresentacao?.hasError('maxlength')">
              Deve ter no máximo 100 caracteres
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Linha 3 – Nome da Empresa -->
        <div class="form-row">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Nome de Empresa</mat-label>
            <input matInput formControlName="nomeEmpresa" placeholder="Ex: BarberClub" />
            <mat-icon matPrefix class="icon-destaque">people</mat-icon>

            <mat-error *ngIf="nomeEmpresa?.hasError('required')">
              Nome da empresa é obrigatório
            </mat-error>
            <mat-error *ngIf="nomeEmpresa?.hasError('minlength')">
              Deve ter no mínimo 3 caracteres
            </mat-error>
            <mat-error *ngIf="nomeEmpresa?.hasError('maxlength')">
              Deve ter no máximo 100 caracteres
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Linha 4 – Email -->
        <div class="form-row">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Email da Empresa</mat-label>
            <input matInput type="email" formControlName="email" placeholder="contato@empresa.com" />
            <mat-icon matPrefix class="icon-destaque">mail</mat-icon>

            <mat-error *ngIf="email?.hasError('required')">
              Email é obrigatório
            </mat-error>
            <mat-error *ngIf="email?.hasError('email')">
              Email inválido
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Linha 5 – Senha -->
        <div class="form-row">
          <mat-form-field class="w-100" appearance="outline">
            <mat-label>Senha de Acesso</mat-label>
            <input matInput type="password" formControlName="password" placeholder="Crie uma senha forte" />
            <mat-icon matPrefix class="icon-destaque">lock</mat-icon>

            <!-- Dicas de força -->
            <mat-error *ngIf="password?.value" class="dicas senha-dicas">

              <span [class.valido]="!password?.hasError('semMaiuscula')"
                [class.invalido]="password?.hasError('semMaiuscula')">
                <mat-icon>{{ !password?.hasError('semMaiuscula') ? 'check_circle' : 'cancel' }}</mat-icon>
                Maiúscula
              </span>

              <span [class.valido]="!password?.hasError('semMinuscula')"
                [class.invalido]="password?.hasError('semMinuscula')">
                <mat-icon>{{ !password?.hasError('semMinuscula') ? 'check_circle' : 'cancel' }}</mat-icon>
                Minúscula
              </span>

              <span [class.valido]="!password?.hasError('semNumero')"
                [class.invalido]="password?.hasError('semNumero')">
                <mat-icon>{{ !password?.hasError('semNumero') ? 'check_circle' : 'cancel' }}</mat-icon>
                Número
              </span>

              <span [class.valido]="!password?.hasError('semEspecial')"
                [class.invalido]="password?.hasError('semEspecial')">
                <mat-icon>{{ !password?.hasError('semEspecial') ? 'check_circle' : 'cancel' }}</mat-icon>
                Especial
              </span>

              <span [class.valido]="!password?.hasError('senhaLonga')"
                [class.invalido]="password?.hasError('senhaLonga')">
                <mat-icon>{{ !password?.hasError('senhaLonga') ? 'check_circle' : 'cancel' }}</mat-icon>
                Senha muito longa
              </span>

              <span [class.valido]="!password?.hasError('senhaCurta')"
                [class.invalido]="password?.hasError('senhaCurta')">
                <mat-icon>{{ !password?.hasError('senhaCurta') ? 'check_circle' : 'cancel' }}</mat-icon>
                Senha muito curta
              </span>

              <span [class.valido]="!password?.hasError('senhaVazio')"
                [class.invalido]="password?.hasError('senhaVazio')">
                <mat-icon>{{ !password?.hasError('senhaVazio') ? 'check_circle' : 'cancel' }}</mat-icon>
                Senha obrigatória
              </span>
            </mat-error>

            <mat-error *ngIf="password?.errors?.['required']">Senha obrigatória</mat-error>
            <mat-error *ngIf="password?.errors?.['minlength']">Mínimo de 6 caracteres</mat-error>
            <mat-error *ngIf="password?.errors?.['maxlength']">Máximo de 30 caracteres</mat-error>
          </mat-form-field>
        </div>

        <!-- Ações -->
        <div class="form-actions mt-4 d-flex justify-content-end gap-3">
          <a mat-button routerLink="/login" class="btn-outline-secundario d-flex align-items-center gap-1">
            <mat-icon>arrow_back</mat-icon>
            Já tenho um cadastro
          </a>

          <button mat-raised-button class="btn-destaque d-flex align-items-center gap-1 px-4" type="submit" [disabled]="form.invalid">
            <mat-icon>domain_add</mat-icon>
            Registrar Empresa
          </button>
        </div>

      </form>
    </mat-card-content>

  </mat-card>
</div>
